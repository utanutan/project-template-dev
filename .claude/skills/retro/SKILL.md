---
name: retro
description: プロジェクト完了時の振り返り（ドキュメント・保守・知見の3観点チェック）
allowed-tools: Read, Glob, Grep, Edit, Write
---

# プロジェクト振り返り

プロジェクト完了時に以下の3観点で振り返りを行い、不足があれば作成・更新を実行する。

## 実行手順

### 1. ドキュメンテーション完備チェック

以下を確認し、不足・古いものがあれば更新する:

- [ ] `README.md` が存在し、プロジェクト概要・セットアップ手順が最新か
- [ ] `docs/PRP.md` が実装内容と整合しているか
- [ ] その他ドキュメント（requirements, design docs, API仕様等）が最新か
- [ ] `docs/` および `spec/` 配下のファイルを走査し、古い・未更新のものを検出

**アクション**: 不足・不整合があれば修正・作成する。

### 2. 保守ドキュメントチェック

プロジェクトで実施した内容に応じて、以下のドキュメントが揃っているか確認:

- [ ] API を作成した場合 → API 仕様書（OpenAPI/Swagger or Markdown）
- [ ] DB を使用した場合 → スキーマ定義ドキュメント
- [ ] デプロイ設定がある場合 → デプロイ手順書
- [ ] 環境変数を使用した場合 → `.env.example` と説明
- [ ] ロギング・モニタリング → 運用ドキュメント
- [ ] 環境構築・セットアップ手順が README またはドキュメントに記載されているか

**アクション**: 不足しているドキュメントを作成する。

### 3. 知見フィードバックチェック

- [ ] `.claude/rules/` ディレクトリが存在するか
- [ ] 今回のプロジェクトで得た技術的知見が `.claude/rules/` に記録されているか
- [ ] 記録がなければ、プロジェクト中の主要な技術的判断・トラブルシュート・学びを抽出し、`.claude/rules/` に適切なファイル名で追記

**グローバルフィードバック**: 他のプロジェクトにも有用な知見があれば、テンプレートリポジトリの `.claude/rules/global-learnings.md` への追記を提案する。

## 出力フォーマット

振り返り結果を以下の形式で報告:

```
## Retro Report: <project-name>

### 1. ドキュメンテーション
- ✅ / ❌ README.md: <状態>
- ✅ / ❌ PRP.md: <状態>
- ...

### 2. 保守ドキュメント
- ✅ / ❌ <ドキュメント名>: <状態>
- ...

### 3. 知見フィードバック
- ✅ / ❌ .claude/rules/ 記録状況: <状態>
- 追記した知見: <リスト>
- グローバルフィードバック提案: <あれば記載>

### アクション実行サマリ
- <実行した修正・作成の一覧>
```
